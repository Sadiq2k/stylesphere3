"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[2034],{86657:(e,a,t)=>{t.d(a,{D_:()=>v,G_:()=>x,W:()=>f,gz:()=>F,wk:()=>g});var n=t(13019),r=t(17071),d=t(11080),o=t(46331),s=t(39247),c=t(52226),l=t(40079),p=t(34743),i=t(31649),h=t(88298),m=t(70048),u=t(15358),I=t(75458),T=t(20901),y=t(44537),z=t(68493),U=t(15717),k=t(47773),S=t(13376),G=t(70381);const b=G.Dy.matchX({HomePageInFeed:"homepage-in-feed",HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),f=(()=>{switch(r.Oz){case"development":return G.Dy.matchX({HomePageInFeed:(0,k.a9)(301585),HomepageHeader:(0,k.a9)(307171),SayThanksCardMobile:(0,k.a9)(237077),SayThanksCardTabletUp:(0,k.a9)(237076),TopicsInFeed:S.U3({Phone:257457,[z._]:237186}),ExploreInFeed:S.U3({Phone:257456,[z._]:247889}),SearchInFeed:S.U3({Phone:257455,[z._]:241347})});case"production":return G.Dy.matchX({HomePageInFeed:(0,k.a9)(301587),HomepageHeader:(0,k.a9)(307172),SayThanksCardMobile:(0,k.a9)(219423),SayThanksCardTabletUp:(0,k.a9)(219424),TopicsInFeed:S.U3({Phone:257453,[z._]:237209}),ExploreInFeed:S.U3({Phone:257454,[z._]:247890}),SearchInFeed:S.U3({Phone:257452,[z._]:241348})})}})(),_=e=>{let{adType:a,count:t,zoneId:n}=e;return{divName:b(a),zoneIds:m.of(n),count:t,networkId:r.HM,siteId:r.Tf,adTypes:m.of(5),properties:{}}},F=e=>{let{adType:a,count:t,zoneId:c}=e;return(0,k.zG)((i={adType:a,count:t,zoneId:c},(0,k.zG)(p.of(d.q9),p.ap((0,k.zG)(i,_,m.of,p.of)),p.ap(p.tD(n.T)))),u.tD,u.tS((e=>u.x0(d.HM)(r.sQ,{method:"POST",headers:{[s.JU]:o.zc.JSON},body:d.D6.encode(e)}))),I.QN,I.UI((e=>(0,k.zG)(e.decisions,l.P5(b(a)),T.tS(T.ij),T.UI(m.UI((e=>G.Ad.fromKevelAd({ad:m.YM(e.contents),decision:e}))))))));var i},g=(e,a)=>m.hX((0,k.ls)((e=>{return(t=e.metadata.advertiserId,c.tSV((e=>(0,k.zG)(e,c.t94(d.Sy)(t),U.EQ({True:i.Vo((()=>(0,k.zG)(e,c.d1t((e=>d.Sy.equals(e,t)))))),False:(0,k.a9)([])})))))(a);var t}),c.EQD(k.W8,(0,k.ls)(c.Gax((a=>(0,k.zG)(e,h.fP(d.Sy)(a)))),U.ff)))),v=y.UI(T.tS((e=>(0,k.zG)(e.template,d.YS.match({"in-feed":a=>T.G(G.Ad.mkInFeedAd({...e,template:a})),[z._]:(0,k.a9)(T.YP)}))))),D=d.YS.matchX({"kitchen-sink":!0,[z._]:!1}),P=d.YS.matchX({"in-feed":!0,[z._]:!1}),x=G.Dy.matchX({SayThanksCardMobile:D,SayThanksCardTabletUp:D,TopicsInFeed:P,HomePageInFeed:P,HomepageHeader:(0,k.a9)(!0),ExploreInFeed:P,SearchInFeed:P})},30192:(e,a,t)=>{t.d(a,{W2:()=>E,Yo:()=>H,DU:()=>w});var n=t(85893),r=t(11324),d=t(82644),o=t(17071),s=t(17311),c=t(82946),l=t(39546),p=t(43349),i=t(47335),h=t(11080),m=t(52226),u=t(34743),I=t(15358),T=t(97868),y=t(20901),z=t(44537),U=t(68493),k=t(47773),S=t(92266),G=t(56431),b=t(4669);const f=(0,t(22222).P1)((e=>e.directAds),(e=>e.renderedAdsByAdvertiser));var _=t(13376),F=t(70381),g=t(41893),v=t(90233),D=t(65555),P=t(86657);const x=(()=>{switch(o.Oz){case"development":return[[h.zi(2260292),h.zi(2260293)]];case"production":return[[h.zi(2262847),h.zi(1890533)]]}})(),w=e=>{let{adType:a,count:t}=e;const n=(0,i.v)(f),d=(0,r.m)((e=>(0,k.zG)(e,G.UI((e=>{let[a]=e;return a})))),[n]),o=(0,b.Fy)();return(0,r.m)((e=>{const a=(0,k.zG)(e,G.UI((e=>e[0])),G.xb(F.Dy.Eq.equals)),n=(0,k.zG)(e,G.UI((e=>e[1])),G.xb(y.Eh(_.Eq).equals)),r=(0,k.zG)(T.gz((0,k.zG)(a,T.u5),n),T.UI((e=>{let[a,t]=e;return(0,P.W)(a)(t)})),G.xb(y.Eh(S.Eq).equals));return(0,k.zG)(T.gz((0,k.zG)(a,T.u5),r),G.Mm(d),G.UI((e=>{let[a,t]=e;return(0,k.zG)(a,y.UI((e=>{let[a,n]=e;return(0,k.bc)(a,n,t)})))})),T.pd((e=>{let[a,n,r]=e;return(0,k.zG)(G.PQ((()=>(0,P.gz)({adType:a,count:3*t,zoneId:n}))),G.bw((0,k.ls)(z.eL((0,k.a9)(u.Xc),I.JQ.match({DecodeError:(0,k.ls)(m.Ce7(`\nKevel response failed decoding for adType: "${F.Dy.Show.show(a)}"`),s._N,u.Ep),[U._]:(0,k.a9)(u.Xc)}),(e=>{const t=(0,k.zG)(e,y.Tw([]),m.UID((e=>e.template)),m.d1t((0,P.G_)(a)));return m.OdA(t)?(0,s.wj)({error:`Kevel response has invalid templates (${(0,k.zG)(t,m.UID(h.gA),m.v_p(", "))}) for ad type: "${F.Dy.Show.show(a)}"`}):u.Xc})),u.ht)),G.UI(z.UI(y.tS((0,P.wk)(r,x)))))})),G.UI(y.pF((()=>z.nn))))}),[a,o])},H=e=>{let{adType:a,count:t,children:n}=e;return n((0,p.s)(w({adType:a,count:t})))},C=e=>{let{metadata:a}=e;return(0,n.jsxs)(g.PRT,{children:[(0,n.jsx)(D._,{url:a.impressionUrl}),(0,k.zG)(a.impressionTrackers,y.WA(m.Sud(((e,a)=>(0,n.jsx)(D._,{url:a},e)))))]})},E=e=>{let{children:a,metadata:t,adType:r}=e;const o=(0,c.I)();return(0,l.b)((()=>{o(d.aU.mk.DirectAdImpression({metadata:t,adType:r}))})),(0,n.jsxs)(g.PRT,{children:[a,(0,n.jsx)(v.Z,{children:(0,n.jsx)(C,{metadata:t})})]})}},18627:(e,a,t)=>{t.d(a,{$:()=>l});var n=t(85893),r=t(82644),d=t(82946),o=t(41893),s=t(37039),c=t(74347);const l=e=>{let{metadata:a,adType:t,...l}=e;const p=(0,d.I)(),i=o.I47((()=>{p(r.aU.mk.Track(s.mk.DirectAdClick({metadata:a,adType:t})))}),[a,t,p]);return(0,n.jsx)(c.r,{onClick:i,href:a.clickUrl,...l})}},43349:(e,a,t)=>{t.d(a,{s:()=>d});var n=t(8144),r=t(44537);const d=e=>(0,n.p)(e,r.nn)},44227:(e,a,t)=>{t.d(a,{$:()=>l});var n=t(45120),r=t(34743),d=t(20901),o=t(47773),s=t(83535);const c=(0,o.zG)(s.V4,r.ht,d.Gg((e=>"force_direct_ads"in e))),l=()=>(0,n.US)()&&c}}]);